{
  "version": 3,
  "sources": ["../../devextreme/esm/common/data/query_adapters.js", "../../devextreme/esm/__internal/data/m_remote_query.js", "../../devextreme/esm/common/data/query_implementation.js", "../../devextreme/esm/__internal/data/m_query.js", "../../devextreme/esm/__internal/data/m_array_store.js"],
  "sourcesContent": ["/**\r\n * DevExtreme (esm/common/data/query_adapters.js)\r\n * Version: 25.1.6\r\n * Build date: Mon Oct 13 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport default {};\r\n", "/**\r\n * DevExtreme (esm/__internal/data/m_remote_query.js)\r\n * Version: 25.1.6\r\n * Build date: Mon Oct 13 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport arrayQueryImpl from \"../../common/data/array_query\";\r\nimport {\r\n    errors,\r\n    handleError\r\n} from \"../../common/data/errors\";\r\nimport queryAdapters from \"../../common/data/query_adapters\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nconst remoteQueryImpl = function(url, queryOptions, tasks) {\r\n    tasks = tasks || [];\r\n    queryOptions = queryOptions || {};\r\n    const createTask = function(name, args) {\r\n        return {\r\n            name: name,\r\n            args: args\r\n        }\r\n    };\r\n    const exec = function(executorTask) {\r\n        const d = new Deferred;\r\n        let _adapterFactory;\r\n        let _adapter;\r\n        let _taskQueue;\r\n        let _currentTask;\r\n        let _mergedSortArgs;\r\n        const rejectWithNotify = function(error) {\r\n            const handler = queryOptions.errorHandler;\r\n            if (handler) {\r\n                handler(error)\r\n            }\r\n            handleError(error);\r\n            d.reject(error)\r\n        };\r\n\r\n        function mergeSortTask(task) {\r\n            switch (task.name) {\r\n                case \"sortBy\":\r\n                    _mergedSortArgs = [task.args];\r\n                    return true;\r\n                case \"thenBy\":\r\n                    if (!_mergedSortArgs) {\r\n                        throw errors.Error(\"E4004\")\r\n                    }\r\n                    _mergedSortArgs.push(task.args);\r\n                    return true\r\n            }\r\n            return false\r\n        }\r\n        try {\r\n            _adapterFactory = queryOptions.adapter;\r\n            if (!isFunction(_adapterFactory)) {\r\n                _adapterFactory = queryAdapters[_adapterFactory]\r\n            }\r\n            _adapter = _adapterFactory(queryOptions);\r\n            _taskQueue = [].concat(tasks).concat(executorTask);\r\n            const {\r\n                optimize: optimize\r\n            } = _adapter;\r\n            if (optimize) {\r\n                optimize(_taskQueue)\r\n            }\r\n            while (_taskQueue.length) {\r\n                _currentTask = _taskQueue[0];\r\n                if (!mergeSortTask(_currentTask)) {\r\n                    if (_mergedSortArgs) {\r\n                        _taskQueue.unshift(createTask(\"multiSort\", [_mergedSortArgs]));\r\n                        _mergedSortArgs = null;\r\n                        continue\r\n                    }\r\n                    if (\"enumerate\" !== String(_currentTask.name)) {\r\n                        if (!_adapter[_currentTask.name] || false === _adapter[_currentTask.name].apply(_adapter, _currentTask.args)) {\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n                _taskQueue.shift()\r\n            }! function() {\r\n                const head = _taskQueue[0];\r\n                const unmergedTasks = [];\r\n                if (head && \"multiSort\" === head.name) {\r\n                    _taskQueue.shift();\r\n                    each(head.args[0], (function() {\r\n                        unmergedTasks.push(createTask(unmergedTasks.length ? \"thenBy\" : \"sortBy\", this))\r\n                    }))\r\n                }\r\n                _taskQueue = unmergedTasks.concat(_taskQueue)\r\n            }();\r\n            _adapter.exec(url).done(((result, extra) => {\r\n                if (!_taskQueue.length) {\r\n                    d.resolve(result, extra)\r\n                } else {\r\n                    let clientChain = arrayQueryImpl(result, {\r\n                        errorHandler: queryOptions.errorHandler\r\n                    });\r\n                    each(_taskQueue, (function() {\r\n                        clientChain = clientChain[this.name].apply(clientChain, this.args)\r\n                    }));\r\n                    clientChain.done(d.resolve).fail(d.reject)\r\n                }\r\n            })).fail(rejectWithNotify)\r\n        } catch (x) {\r\n            rejectWithNotify(x)\r\n        }\r\n        return d.promise()\r\n    };\r\n    const query = {};\r\n    each([\"sortBy\", \"thenBy\", \"filter\", \"slice\", \"select\", \"groupBy\"], (function() {\r\n        const name = String(this);\r\n        query[name] = function() {\r\n            return remoteQueryImpl(url, queryOptions, tasks.concat(createTask(name, arguments)))\r\n        }\r\n    }));\r\n    each([\"count\", \"min\", \"max\", \"sum\", \"avg\", \"aggregate\", \"enumerate\"], (function() {\r\n        const name = String(this);\r\n        query[name] = function() {\r\n            return exec.call(this, createTask(name, arguments))\r\n        }\r\n    }));\r\n    return query\r\n};\r\nexport default remoteQueryImpl;\r\n", "/**\r\n * DevExtreme (esm/common/data/query_implementation.js)\r\n * Version: 25.1.6\r\n * Build date: Mon Oct 13 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport arrayQueryImpl from \"./array_query\";\r\nimport remoteQueryImpl from \"./remote_query\";\r\nexport const queryImpl = {\r\n    array: arrayQueryImpl,\r\n    remote: remoteQueryImpl\r\n};\r\n", "/**\r\n * DevExtreme (esm/__internal/data/m_query.js)\r\n * Version: 25.1.6\r\n * Build date: Mon Oct 13 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    queryImpl\r\n} from \"../../common/data/query_implementation\";\r\nconst query = function() {\r\n    const impl = Array.isArray(arguments[0]) ? \"array\" : \"remote\";\r\n    return queryImpl[impl].apply(this, arguments)\r\n};\r\nexport default query;\r\n", "/**\r\n * DevExtreme (esm/__internal/data/m_array_store.js)\r\n * Version: 25.1.6\r\n * Build date: Mon Oct 13 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    applyBatch,\r\n    indexByKey,\r\n    insert,\r\n    remove,\r\n    update\r\n} from \"../../common/data/array_utils\";\r\nimport {\r\n    errors\r\n} from \"../../common/data/errors\";\r\nimport Query from \"../../common/data/query\";\r\nimport {\r\n    rejectedPromise,\r\n    trivialPromise\r\n} from \"../../common/data/utils\";\r\nimport Store from \"../../data/abstract_store\";\r\nconst ArrayStore = Store.inherit({\r\n    ctor(options) {\r\n        if (Array.isArray(options)) {\r\n            options = {\r\n                data: options\r\n            }\r\n        } else {\r\n            options = options || {}\r\n        }\r\n        this.callBase(options);\r\n        const initialArray = options.data;\r\n        if (initialArray && !Array.isArray(initialArray)) {\r\n            throw errors.Error(\"E4006\")\r\n        }\r\n        this._array = initialArray || []\r\n    },\r\n    createQuery() {\r\n        return Query(this._array, {\r\n            errorHandler: this._errorHandler\r\n        })\r\n    },\r\n    _byKeyImpl(key) {\r\n        const index = indexByKey(this, this._array, key);\r\n        if (-1 === index) {\r\n            return rejectedPromise(errors.Error(\"E4009\"))\r\n        }\r\n        return trivialPromise(this._array[index])\r\n    },\r\n    _insertImpl(values) {\r\n        return insert(this, this._array, values)\r\n    },\r\n    _pushImpl(changes) {\r\n        applyBatch({\r\n            keyInfo: this,\r\n            data: this._array,\r\n            changes: changes\r\n        })\r\n    },\r\n    _updateImpl(key, values) {\r\n        return update(this, this._array, key, values)\r\n    },\r\n    _removeImpl(key) {\r\n        return remove(this, this._array, key)\r\n    },\r\n    clear() {\r\n        this._eventsStrategy.fireEvent(\"modifying\");\r\n        this._array = [];\r\n        this._eventsStrategy.fireEvent(\"modified\")\r\n    }\r\n}, \"array\");\r\nexport default ArrayStore;\r\n"],
  "mappings": "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",
  "names": ["query"]
}
